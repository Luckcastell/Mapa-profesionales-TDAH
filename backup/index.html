<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>Red de Profesionales ‚Äì Mapa Interactivo</title>
	<link rel="stylesheet" href="styles.css"/>
	<!-- Leaflet & MarkerCluster via CDN -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"/>
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"/>
</head>
<body>
	<header class="app-header">
	<div class="brand">
		<span class="brand-icon">üìç</span>
		<h1>Red de Profesionales</h1>
	</div>
	<div class="header-actions">
		<button id="btnExportJSON" class="btn">Exportar JSON</button>
		<button id="btnExportCSV" class="btn">Exportar CSV</button>
		<label class="btn file-btn">
		Importar JSON
		<input type="file" id="fileImportJSON" accept="application/json"/>
		</label>
	</div>
	</header>

	<main class="layout">
	<aside class="sidebar">
		<section class="card">
		<h2>Filtros</h2>

		<div class="field">
			<label for="q">Por nombre</label>
			<input id="q" type="search" placeholder="Ej: Andares, L√≥pez‚Ä¶"/>
		</div>

		<details open>
			<summary>Centros</summary>
			<div id="filters-centros" class="checklist"></div>
		</details>

		<details open>
			<summary>Especialidad</summary>
			<div id="filters-especialidades" class="checklist scroll"></div>
		</details>

		<details open>
			<summary>Poblaci√≥n</summary>
			<div id="filters-poblacion" class="checklist"></div>
		</details>

		<div class="chips" id="activeFilters"><span class="muted">Sin filtros activos</span></div>
		<button id="btnClearFilters" class="btn secondary">Limpiar filtros</button>
		</section>

		<section class="card">
		<h2>Alta / Edici√≥n</h2>
		<form id="itemForm" novalidate>
			<input type="hidden" id="id"/>

			<div class="field">
			<label for="nombre">Nombre*</label>
			<input id="nombre" required placeholder="Nombre del lugar o profesional"/>
			<small class="hint">Obligatorio</small>
			</div>

			<div class="field inline">
			<label for="esCentro">¬øEs centro?</label>
			<input id="esCentro" type="checkbox"/>
			</div>

			<div class="field">
			<label for="tipoCentro">Tipo de centro</label>
			<select id="tipoCentro" disabled>
				<option value="">‚Äî Seleccionar ‚Äî</option>
			</select>
			</div>

			<div class="field">
			<label>Especialidades*</label>
			<div id="especialidadesGroup" class="checklist compact"></div>
			<small class="hint">Eleg√≠ al menos una</small>
			</div>

			<div class="field">
			<label>Poblaci√≥n*</label>
			<div id="poblacionGroup" class="checklist compact"></div>
			<small class="hint">Eleg√≠ al menos una</small>
			</div>

			<div class="field grid2">
			<div>
				<label for="lat">Lat*</label>
				<input id="lat" type="number" step="any" required placeholder="-34.60" min="-90" max="90"/>
			</div>
			<div>
				<label for="lng">Lng*</label>
				<input id="lng" type="number" step="any" required placeholder="-58.38" min="-180" max="180"/>
			</div>
			</div>
			<small class="hint">Tip: clic en el mapa para completar lat/lng.</small>

			<div class="field">
			<label for="direccion">Direcci√≥n</label>
			<input id="direccion" placeholder="Calle 123"/>
			</div>

			<div class="field grid2">
			<div>
				<label for="ciudad">Ciudad</label>
				<input id="ciudad" placeholder="Buenos Aires"/>
			</div>
			<div>
				<label for="pais">Pa√≠s</label>
				<input id="pais" placeholder="Argentina"/>
			</div>
			</div>

			<div class="field grid2">
			<div>
				<label for="web">Web</label>
				<input id="web" type="url" placeholder="https://sitio.ejemplo"/>
			</div>
			<div>
				<label for="contacto">Contacto</label>
				<input id="contacto" placeholder="+54 11 5555-5555"/>
			</div>
			</div>

			<div class="form-actions">
			<button type="submit" class="btn">Guardar</button>
			<button type="button" id="btnNew" class="btn secondary">Nuevo</button>
			<button type="button" id="btnDelete" class="btn danger">Eliminar</button>
			</div>

			<div id="formErrors" class="errors" hidden></div>
		</form>
		</section>

		<section class="card">
		<h2>Listado <span id="listCount" class="badge">0</span></h2>
		<div id="list" class="list"></div>
		</section>
	</aside>

	<section class="map-panel">
		<div id="map"></div>
		<div class="legend" id="legend"></div>
		<p class="muted small" id="dbStatus">Base de datos: <em>cargando‚Ä¶</em></p>
	</section>
	</main>

	<footer class="app-footer">
	Hecho con OpenStreetMap. Agrupaci√≥n opcional de marcadores. √öltima build: 2025-08-15 03:39</footer>

	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
	<script src="app.js"></script>
</body>
</html>
